<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Marker Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .marker {
            width: 200px;
            height: 200px;
            border: 2px solid #333;
            margin: 20px auto;
            display: block;
            background: white;
        }
        .controls {
            text-align: center;
            margin: 20px 0;
        }
        button {
            background: #007AFF;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin: 5px;
            font-size: 16px;
        }
        button:hover {
            background: #0056CC;
        }
        .instructions {
            background: #e8f4fd;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .step {
            margin: 10px 0;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ AR Marker Generator</h1>
        <p>T·∫°o marker pattern ƒë·ªÉ s·ª≠ d·ª•ng v·ªõi AR Marker Detection</p>
        
        <div class="controls">
            <button onclick="generateMarker()">üé≤ T·∫°o Marker M·ªõi</button>
            <button onclick="downloadMarker()">üì• T·∫£i Marker</button>
            <button onclick="printMarker()">üñ®Ô∏è In Marker</button>
        </div>
        
        <canvas id="markerCanvas" class="marker"></canvas>
        
        <div class="instructions">
            <h3>üìã H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng:</h3>
            <div class="step">
                <strong>1. T·∫°o Marker:</strong> Nh·∫•n "T·∫°o Marker M·ªõi" ƒë·ªÉ t·∫°o pattern ng·∫´u nhi√™n
            </div>
            <div class="step">
                <strong>2. T·∫£i Marker:</strong> Nh·∫•n "T·∫£i Marker" ƒë·ªÉ l∆∞u file .patt
            </div>
            <div class="step">
                <strong>3. In Marker:</strong> In marker ra gi·∫•y v·ªõi k√≠ch th∆∞·ªõc √≠t nh·∫•t 10x10cm
            </div>
            <div class="step">
                <strong>4. S·ª≠ d·ª•ng AR:</strong> M·ªü ar_marker.html v√† h∆∞·ªõng camera v√†o marker
            </div>
        </div>
        
        <div class="instructions">
            <h3>üí° Tips:</h3>
            <ul>
                <li>In marker tr√™n gi·∫•y tr·∫Øng ƒë·ªÉ contrast t·ªët nh·∫•t</li>
                <li>ƒê·∫£m b·∫£o √°nh s√°ng ƒë·ªß khi s·ª≠ d·ª•ng AR</li>
                <li>Gi·ªØ marker ·ªïn ƒë·ªãnh v√† c√°ch camera 20-50cm</li>
                <li>Marker ph·∫£i ph·∫≥ng, kh√¥ng b·ªã nhƒÉn ho·∫∑c cong</li>
            </ul>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('markerCanvas');
        const ctx = canvas.getContext('2d');
        
        function generateMarker() {
            // Clear canvas
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, 200, 200);
            
            // Draw black border
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 4;
            ctx.strokeRect(2, 2, 196, 196);
            
            // Draw marker pattern (simplified version)
            ctx.fillStyle = 'black';
            
            // Generate random pattern
            const pattern = generatePattern();
            
            for (let i = 0; i < 8; i++) {
                for (let j = 0; j < 8; j++) {
                    if (pattern[i][j]) {
                        ctx.fillRect(20 + j * 20, 20 + i * 20, 18, 18);
                    }
                }
            }
            
            // Draw corner markers
            drawCornerMarker(10, 10);
            drawCornerMarker(170, 10);
            drawCornerMarker(10, 170);
            drawCornerMarker(170, 170);
        }
        
        function generatePattern() {
            const pattern = [];
            for (let i = 0; i < 8; i++) {
                pattern[i] = [];
                for (let j = 0; j < 8; j++) {
                    pattern[i][j] = Math.random() > 0.5;
                }
            }
            return pattern;
        }
        
        function drawCornerMarker(x, y) {
            ctx.fillStyle = 'black';
            ctx.fillRect(x, y, 10, 10);
            ctx.fillRect(x + 2, y + 2, 6, 6);
            ctx.fillStyle = 'white';
            ctx.fillRect(x + 3, y + 3, 4, 4);
        }
        
        function downloadMarker() {
            // Convert canvas to blob
            canvas.toBlob(function(blob) {
                const url = URL.createObjectURL(blob);
                const link = document.createElement('a');
                link.href = url;
                link.download = 'ar_marker.patt';
                link.click();
                URL.revokeObjectURL(url);
            });
        }
        
        function printMarker() {
            window.print();
        }
        
        // Generate initial marker
        generateMarker();
        
        // Add print styles
        const style = document.createElement('style');
        style.textContent = `
            @media print {
                body * { visibility: hidden; }
                .marker, .marker * { visibility: visible; }
                .marker { position: absolute; left: 0; top: 0; width: 100%; height: 100%; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
